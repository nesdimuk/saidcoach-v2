<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Calculadora de Calorías</title>
<style>
  :root { --bg:#0f172a; --card:#111827; --text:#e5e7eb; --muted:#9ca3af; --accent:#60a5fa; }
  *{box-sizing:border-box;font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Ubuntu,Arial}
  body{margin:0;background:linear-gradient(180deg,#0b1220,#0f172a);color:var(--text);display:grid;place-items:center;min-height:100vh;padding:24px}
  .wrap{width:100%;max-width:640px}
  .card{background:var(--card);border:1px solid #1f2937;border-radius:18px;padding:20px;box-shadow:0 8px 30px rgba(0,0,0,.35)}
  h1{margin:0 0 10px;font-size:1.25rem}
  p.hint{margin:0 0 18px;color:var(--muted);font-size:.92rem}
  .grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
  .grid>label{display:flex;flex-direction:column;font-size:.9rem;gap:6px}
  input,select,button{border-radius:12px;border:1px solid #374151;background:#0b1220;color:var(--text);padding:10px 12px;font-size:1rem}
  input::placeholder{color:#64748b}
  button{background:var(--accent);color:#0a0a0a;border:none;font-weight:600;cursor:pointer}
  button:hover{filter:brightness(1.05)}
  .row{display:flex;gap:12px;flex-wrap:wrap}
  .full{grid-column:1/-1}
  .out{margin-top:14px;padding:14px;border-radius:12px;background:#0b1220;border:1px solid #1f2937}
  .num{font-variant-numeric:tabular-nums}
  small{color:var(--muted)}
  @media (max-width:560px){ .grid{grid-template-columns:1fr} }
</style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>Calculadora de Calorías</h1>
      <p class="hint">Usa Mifflin-St Jeor. Unidades métricas.</p>

      <div class="grid" id="form">
        <label>
          Sexo
          <select id="sexo">
            <option value="m">Hombre</option>
            <option value="f">Mujer</option>
          </select>
        </label>

        <label>
          Edad (años)
          <input id="edad" type="number" min="10" max="100" placeholder="30" />
        </label>

        <label>
          Estatura (cm)
          <input id="altura" type="number" min="120" max="230" placeholder="175" />
        </label>

        <label>
          Peso (kg)
          <input id="peso" type="number" min="35" max="250" step="0.1" placeholder="78.5" />
        </label>

        <label class="full">
          Actividad
          <select id="actividad">
            <option value="1.2">Sedentario (poco o nada de ejercicio)</option>
            <option value="1.375">Ligero (1–3 días/sem)</option>
            <option value="1.55" selected>Moderado (3–5 días/sem)</option>
            <option value="1.725">Intenso (6–7 días/sem)</option>
            <option value="1.9">Muy intenso (trabajo físico + entrenamiento)</option>
          </select>
        </label>

        <label class="full">
          Objetivo
          <select id="objetivo">
            <option value="0">Mantener (0%)</option>
            <option value="-0.10">Pérdida suave (-10%)</option>
            <option value="-0.15" selected>Pérdida moderada (-15%)</option>
            <option value="-0.20">Pérdida agresiva (-20%)</option>
            <option value="0.10">Ganancia suave (+10%)</option>
            <option value="0.15">Ganancia moderada (+15%)</option>
          </select>
        </label>

        <div class="row full">
          <button id="calc">Calcular</button>
          <button id="limpiar" type="button" style="background:#94a3b8;color:#0a0a0a">Limpiar</button>
        </div>
      </div>

      <div class="out" id="salida" hidden>
        <div><strong>BMR:</strong> <span class="num" id="bmr">—</span> kcal/día</div>
        <div><strong>Mantenimiento (TDEE):</strong> <span class="num" id="tdee">—</span> kcal/día</div>
        <div><strong>Objetivo:</strong> <span class="num" id="objetivo_kcal">—</span> kcal/día</div>
        <small id="nota"></small>
      </div>
    </div>
  </div>

<script>
  const $ = (id)=>document.getElementById(id);
  const round = (x)=>Math.round((x + Number.EPSILON) * 1) // entero

  function validar(n, min, max){
    const v = Number(n);
    return Number.isFinite(v) && v >= min && v <= max ? v : null;
  }

  function mifflinStJeor(sexo, peso, altura, edad){
    // peso kg, altura cm, edad años
    const base = 10*peso + 6.25*altura - 5*edad;
    return sexo === 'm' ? base + 5 : base - 161;
  }

  function calc(){
    const sexo = $('sexo').value;
    const edad = validar($('edad').value, 10, 100);
    const altura = validar($('altura').value, 120, 230);
    const peso = validar($('peso').value, 35, 250);
    const actividad = Number($('actividad').value);
    const delta = Number($('objetivo').value);

    if([edad,altura,peso].includes(null) || !Number.isFinite(actividad) || !['m','f'].includes(sexo)){
      alert('Revisa los campos: edad, estatura, peso y selección de actividad.');
      return;
    }

    const bmr = mifflinStJeor(sexo, peso, altura, edad);
    const tdee = bmr * actividad;
    const objetivo = tdee * (1 + delta);

    $('bmr').textContent = round(bmr);
    $('tdee').textContent = round(tdee);
    $('objetivo_kcal').textContent = round(objetivo);
    $('nota').textContent = delta === 0
      ? 'Sugerencia: mantén proteína adecuada y pasos diarios.'
      : (delta < 0
          ? 'Déficit elegido. Prioriza saciedad, fuerza 2–3x/sem y sueño.'
          : 'Superávit elegido. Enfoca fuerza progresiva y proteína.');
    $('salida').hidden = false;
  }

  function limpiar(){
    ['edad','altura','peso'].forEach(id=>$(id).value='');
    $('actividad').value='1.55';
    $('objetivo').value='-0.15';
    $('salida').hidden = true;
  }

  $('calc').addEventListener('click', calc);
  $('limpiar').addEventListener('click', limpiar);
</script>
</body>
</html>
